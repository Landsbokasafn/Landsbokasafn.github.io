<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_07) on Mon Jul 21 13:30:27 GMT 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DigestIndexer (DeDuplicator3 (Heritrix 3 add-on module) 3.0.0 API)</title>
<meta name="date" content="2014-07-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DigestIndexer (DeDuplicator3 (Heritrix 3 add-on module) 3.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../is/landsbokasafn/deduplicator/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DigestIndexer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../is/landsbokasafn/deduplicator/DeDuplicator.html" title="class in is.landsbokasafn.deduplicator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../is/landsbokasafn/deduplicator/OriginHandling.html" title="enum in is.landsbokasafn.deduplicator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?is/landsbokasafn/deduplicator/DigestIndexer.html" target="_top">Frames</a></li>
<li><a href="DigestIndexer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">is.landsbokasafn.deduplicator</div>
<h2 title="Class DigestIndexer" class="title">Class DigestIndexer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>is.landsbokasafn.deduplicator.DigestIndexer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DigestIndexer</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A class for building a de-duplication index.
 <p>
 The indexing can be done via the command line options (Run with --help 
 parameter to print usage information) or natively embedded in other 
 applications. 
 <p>
 This class also defines string constants for the lucene field names.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Kristinn Sigur&eth;sson</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_DIGEST">FIELD_DIGEST</a></strong></code>
<div class="block">The content digest as String</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_ETAG">FIELD_ETAG</a></strong></code>
<div class="block">The document's etag</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_ORIGIN">FIELD_ORIGIN</a></strong></code>
<div class="block">A field containing meta-data on where the original version of a
  document is stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_ORIGINAL_DATE">FIELD_ORIGINAL_DATE</a></strong></code>
<div class="block">The date of the original payload capture.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_TIMESTAMP">FIELD_TIMESTAMP</a></strong></code>
<div class="block">The URLs timestamp (time of fetch).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_URL">FIELD_URL</a></strong></code>
<div class="block">The URL 
  This value is suitable for use in warc/revist records as the WARC-Refers-To-Target-URI</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#FIELD_URL_NORMALIZED">FIELD_URL_NORMALIZED</a></strong></code>
<div class="block">A stripped (normalized) version of the URL</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_BOTH">MODE_BOTH</a></strong></code>
<div class="block">Both URL and hash are indexed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_HASH">MODE_HASH</a></strong></code>
<div class="block">Index HASH enabling lookups by hash (content digest)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_URL">MODE_URL</a></strong></code>
<div class="block">Index URL enabling lookups by URL.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#DigestIndexer(java.lang.String, java.lang.String, boolean, boolean, boolean, boolean)">DigestIndexer</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;indexLocation,
             <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;indexingMode,
             boolean&nbsp;includeNormalizedURL,
             boolean&nbsp;includeTimestamp,
             boolean&nbsp;includeEtag,
             boolean&nbsp;addToExistingIndex)</code>
<div class="block">Each instance of this class wraps one Lucene index for writing 
 deduplication information to it.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#close(boolean)">close</a></strong>(boolean&nbsp;optimize)</code>
<div class="block">Close the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#main(java.lang.String[])">main</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#stripURL(java.lang.String)">stripURL</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url)</code>
<div class="block">An aggressive URL normalizer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#writeToIndex(is.landsbokasafn.deduplicator.CrawlDataIterator, java.lang.String, boolean, java.lang.String, boolean)">writeToIndex</a></strong>(<a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator">CrawlDataIterator</a>&nbsp;dataIt,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mimefilter,
            boolean&nbsp;blacklist,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultOrigin,
            boolean&nbsp;verbose)</code>
<div class="block">Writes the contents of a <a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator"><code>CrawlDataIterator</code></a> to this index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#writeToIndex(is.landsbokasafn.deduplicator.CrawlDataIterator, java.lang.String, boolean, java.lang.String, boolean, boolean, long)">writeToIndex</a></strong>(<a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator">CrawlDataIterator</a>&nbsp;dataIt,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mimefilter,
            boolean&nbsp;blacklist,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultOrigin,
            boolean&nbsp;verbose,
            boolean&nbsp;skipDuplicates,
            long&nbsp;minSize)</code>
<div class="block">Writes the contents of a <a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator"><code>CrawlDataIterator</code></a> to this index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FIELD_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_URL</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_URL</pre>
<div class="block">The URL 
  This value is suitable for use in warc/revist records as the WARC-Refers-To-Target-URI</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_URL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_DIGEST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_DIGEST</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_DIGEST</pre>
<div class="block">The content digest as String</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_DIGEST">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_TIMESTAMP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_TIMESTAMP</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_TIMESTAMP</pre>
<div class="block">The URLs timestamp (time of fetch). The exact nature of this time
  may vary slightly depending on the source (i.e. crawl.log and ARCs 
  contain slightly different times but both indicate roughly when the 
  document was obtained. The time is encoded as a String with the 
  Java date format yyyyMMddHHmmssSSS</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_TIMESTAMP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_ETAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_ETAG</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_ETAG</pre>
<div class="block">The document's etag</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_ETAG">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_URL_NORMALIZED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_URL_NORMALIZED</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_URL_NORMALIZED</pre>
<div class="block">A stripped (normalized) version of the URL</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_URL_NORMALIZED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_ORIGIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_ORIGIN</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_ORIGIN</pre>
<div class="block">A field containing meta-data on where the original version of a
  document is stored.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_ORIGIN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_ORIGINAL_DATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_ORIGINAL_DATE</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FIELD_ORIGINAL_DATE</pre>
<div class="block">The date of the original payload capture. Suitable for WARC-Refers-To-Date in warc/revisit records</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.FIELD_ORIGINAL_DATE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MODE_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MODE_URL</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> MODE_URL</pre>
<div class="block">Index URL enabling lookups by URL. If normalized URLs are included
  in the index they will also be indexed and searchable.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.MODE_URL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MODE_HASH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MODE_HASH</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> MODE_HASH</pre>
<div class="block">Index HASH enabling lookups by hash (content digest)</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.MODE_HASH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MODE_BOTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MODE_BOTH</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> MODE_BOTH</pre>
<div class="block">Both URL and hash are indexed</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#is.landsbokasafn.deduplicator.DigestIndexer.MODE_BOTH">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DigestIndexer(java.lang.String, java.lang.String, boolean, boolean, boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DigestIndexer</h4>
<pre>public&nbsp;DigestIndexer(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;indexLocation,
             <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;indexingMode,
             boolean&nbsp;includeNormalizedURL,
             boolean&nbsp;includeTimestamp,
             boolean&nbsp;includeEtag,
             boolean&nbsp;addToExistingIndex)
              throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Each instance of this class wraps one Lucene index for writing 
 deduplication information to it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>indexLocation</code> - The location of the index (path).</dd><dd><code>indexingMode</code> - Index <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_URL"><code>MODE_URL</code></a>, <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_HASH"><code>MODE_HASH</code></a> or 
                     <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#MODE_BOTH"><code>MODE_BOTH</code></a>.</dd><dd><code>includeNormalizedURL</code> - Should a normalized version of the URL be 
                             added to the index. 
                             See <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#stripURL(java.lang.String)"><code>stripURL(String)</code></a>.</dd><dd><code>includeTimestamp</code> - Should a timestamp be included in the index.</dd><dd><code>includeEtag</code> - Should an Etag be included in the index.</dd><dd><code>addToExistingIndex</code> - Are we opening up an existing index. Setting
                           this to false will cause any index at 
                           <code>indexLocation</code> to be overwritten.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If an error occurs opening the index.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="writeToIndex(is.landsbokasafn.deduplicator.CrawlDataIterator, java.lang.String, boolean, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeToIndex</h4>
<pre>public&nbsp;long&nbsp;writeToIndex(<a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator">CrawlDataIterator</a>&nbsp;dataIt,
                <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mimefilter,
                boolean&nbsp;blacklist,
                <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultOrigin,
                boolean&nbsp;verbose)
                  throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes the contents of a <a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator"><code>CrawlDataIterator</code></a> to this index.
 <p>
 This method may be invoked multiple times with different 
 CrawlDataIterators until <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#close(boolean)"><code>close(boolean)</code></a> has been called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dataIt</code> - The CrawlDataIterator that provides the data to index.</dd><dd><code>mimefilter</code> - A regular expression that is used as a filter on the 
                   mimetypes to include in the index.</dd><dd><code>blacklist</code> - If true then the <code>mimefilter</code> is used
                  as a blacklist for mimetypes. If false then the
                  <code>mimefilter</code> is treated as a whitelist.</dd><dd><code>defaultOrigin</code> - If an item is missing an origin, this default value
                      will be assigned to it. Can be null if no default
                      origin value should be assigned.</dd><dd><code>verbose</code> - If true then progress information will be sent to 
                System.out.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of items added to the index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If an error occurs writing the index.</dd></dl>
</li>
</ul>
<a name="writeToIndex(is.landsbokasafn.deduplicator.CrawlDataIterator, java.lang.String, boolean, java.lang.String, boolean, boolean, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeToIndex</h4>
<pre>public&nbsp;long&nbsp;writeToIndex(<a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator">CrawlDataIterator</a>&nbsp;dataIt,
                <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;mimefilter,
                boolean&nbsp;blacklist,
                <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultOrigin,
                boolean&nbsp;verbose,
                boolean&nbsp;skipDuplicates,
                long&nbsp;minSize)
                  throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes the contents of a <a href="../../../is/landsbokasafn/deduplicator/CrawlDataIterator.html" title="class in is.landsbokasafn.deduplicator"><code>CrawlDataIterator</code></a> to this index.
 <p>
 This method may be invoked multiple times with different 
 CrawlDataIterators until <a href="../../../is/landsbokasafn/deduplicator/DigestIndexer.html#close(boolean)"><code>close(boolean)</code></a> has been called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dataIt</code> - The CrawlDataIterator that provides the data to index.</dd><dd><code>mimefilter</code> - A regular expression that is used as a filter on the 
                   mimetypes to include in the index.</dd><dd><code>blacklist</code> - If true then the <code>mimefilter</code> is used
                  as a blacklist for mimetypes. If false then the
                  <code>mimefilter</code> is treated as a whitelist.</dd><dd><code>defaultOrigin</code> - If an item is missing an origin, this default value
                      will be assigned to it. Can be null if no default
                      origin value should be assigned.</dd><dd><code>verbose</code> - If true then progress information will be sent to 
                System.out.</dd><dd><code>skipDuplicates</code> - Do not add URLs that are marked as duplicates to the index</dd><dd><code>minSize</code> - The minimum size of documents added to the index. Documents
           smaller than this are ignored. Documents with unknown size (CrawlDataItem size set to -1)
           are not subject to this limit. A value of lesser than or equal to zero disables this feature.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of items added to the index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If an error occurs writing the index.</dd></dl>
</li>
</ul>
<a name="close(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close(boolean&nbsp;optimize)
           throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Close the index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>optimize</code> - If true then the index will be optimized before it is
                 closed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If an error occurs optimizing or closing the index.</dd></dl>
</li>
</ul>
<a name="stripURL(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stripURL</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stripURL(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;url)</pre>
<div class="block">An aggressive URL normalizer. This methods removes any www[0-9]. 
 segments from an URL, along with any trailing slashes and all
 parameters.
 <p>
 Example:
 <code>http://www.bok.hi.is/?lang=ice</code> would become
 <code>http://bok.hi.is</code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>url</code> - The url to strip</dd>
<dt><span class="strong">Returns:</span></dt><dd>A normalized URL.</dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                 throws <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../is/landsbokasafn/deduplicator/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DigestIndexer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../is/landsbokasafn/deduplicator/DeDuplicator.html" title="class in is.landsbokasafn.deduplicator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../is/landsbokasafn/deduplicator/OriginHandling.html" title="enum in is.landsbokasafn.deduplicator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?is/landsbokasafn/deduplicator/DigestIndexer.html" target="_top">Frames</a></li>
<li><a href="DigestIndexer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.landsbokasafn.is">National and University Library of Iceland</a>. All Rights Reserved.</small></p>
</body>
</html>
